# ファイルリネーム

ABは現在3つのリネーム方法を提供しています：`pn`、`advance`、`none`。

### pn

`pure name`の略です。この方法はトレントダウンロード名を使用してリネームします。

例：
```
[Lilith-Raws] 86 - Eighty Six - 01 [Baha][WEB-DL][1080p][AVC AAC][CHT][MKV].mkv
>>
86 - Eighty Six S01E01.mkv
```

### advance

高度なリネーム。この方法は親フォルダ名を使用してリネームします。

```
/downloads/Bangumi/86 - Eighty Six(2023)/Season 1/[Lilith-Raws] 86 - Eighty Six - 01 [Baha][WEB-DL][1080p][AVC AAC][CHT][MKV].mkv
>>
86 - Eighty Six(2023) S01E01.mkv
```

### none

リネームなし。ファイルはそのまま残されます。

## コレクションのリネーム

ABはコレクションのリネームをサポートしています。コレクションのリネームには以下が必要です：
- エピソードがコレクションの第1レベルディレクトリにある
- ファイル名からエピソード番号を解析できる

ABはまた、第1レベルディレクトリ内の字幕ファイルもリネームできます。

リネーム後、エピソードとディレクトリは`Season`フォルダに配置されます。

リネームされたコレクションは`BangumiCollection`の下に移動され、カテゴリ分けされます。

## エピソードオフセット

v3.2以降、ABはリネーム用のエピソードオフセットをサポートしています。これは以下の場合に便利です：
- RSSが期待と異なるエピソード番号を表示（例：S2E01がS1E29であるべき）
- 放送ギャップによるアニメの「仮想シーズン」がある

番組にオフセットが設定されている場合、ABはリネーム中に自動的に適用します：

```
元：S02E01.mkv
オフセット適用後（シーズン：-1、エピソード：+28）：S01E29.mkv
```

オフセットを設定するには：
1. アニメのポスターをクリック
2. 詳細設定を開く
3. シーズンオフセットおよび/またはエピソードオフセットの値を設定
4. または「自動検出」を使用してABに正しいオフセットを提案させる

自動検出の詳細については、[番組管理](/ja/feature/bangumi#エピソードオフセットの自動検出)を参照してください。
